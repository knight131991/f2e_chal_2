"use strict";(self.webpackChunkf2e_chal_2=self.webpackChunkf2e_chal_2||[]).push([[548],{1398:function(e,n,t){t.r(n),t.d(n,{default:function(){return I}});var r,a=t(9439),o=t(168),l=t(2791),u=t(6590),s=t(5481),i=t(4641),c=t(6824),d=t(9503),f=t(8844),p=t(9783),v=t(6626),h=t(5751),b=t(9215),Z=t(3101),y=t(2987),C=t(2435),g=t(8337),x=t(9428),m=t(3928),j=t(9359),k=t(285),w=t(184),S=(0,h.ZP)(k.Z)(r||(r=(0,o.Z)(["\n  margin-left: 8px;\n"])));var E,O=function(e){var n=e.city,t=e.onCityChange,r=e.youbikeVer,a=e.onYoubikeChange,o=e.searchKey,s=e.onSearch,i=e.onSearchChange,c=e.render,d=(0,l.useMemo)((function(){return(0,w.jsx)(j.Z,{cityVal:n,onCityChange:t,youbikeVal:r,onYoubikeChange:a})}),[n,t,r,a]),f=(0,l.useMemo)((function(){return(0,w.jsx)(S,{value:o,onPressEnter:s,onChange:i,placeholder:"\u7ad9\u9ede\u641c\u5c0b"})}),[o,s,i]);return c?c(d,f):(0,w.jsxs)(u.Z,{flex:!0,row:!0,justify:"space-between",children:[d,f]})},P=t(4385),M=t(8281),R=t(9298),_=t(9039),N=(0,h.ZP)(v.Z)(E||(E=(0,o.Z)(["\n  transform: translate(-50%, -50%);\n"])));var I=function(e){var n=(0,c.Z)(),t=n.getBikeStopInfo,r=n.data,o=n.loading,v=(0,l.useState)(s.ZP[0].value),h=(0,a.Z)(v,2),j=h[0],k=h[1],S=(0,l.useState)(C.Z[0].value),E=(0,a.Z)(S,2),I=E[0],V=E[1],B=(0,l.useState)("rent"),Y=(0,a.Z)(B,2),A=Y[0],L=Y[1],T=(0,l.useState)(""),F=(0,a.Z)(T,2),G=F[0],K=F[1],z=(0,l.useState)(""),H=(0,a.Z)(z,2),Q=H[0],q=H[1],D=(0,l.useState)(),J=(0,a.Z)(D,2),U=J[0],W=J[1],X=(0,l.useState)(),$=(0,a.Z)(X,2),ee=$[0],ne=$[1],te=(0,l.useState)(),re=(0,a.Z)(te,2),ae=re[0],oe=re[1],le=(0,l.useState)(),ue=(0,a.Z)(le,2),se=ue[0],ie=ue[1],ce=(0,P.Z)().screen;(0,l.useEffect)((function(){t({city:j,top:60,search:G,youbikeVer:I,noSearchResultCB:function(e){return ie(e)}}),W()}),[j,t,G,I]),(0,l.useEffect)((function(){(0,m.Z)(ee,ae,r.map((function(e){return(0,f.Z)(e)})))}),[r,ee,ae]);var de=(0,l.useCallback)((function(e){return(0,w.jsx)(O,{city:j,onCityChange:k,youbikeVer:I,onYoubikeChange:V,searchKey:Q,onSearch:K,onSearchChange:q,render:e})}),[j,k,I,V,Q,K]),fe=(0,l.useMemo)((function(){return{screengatherthanlg:ce>=M.Z.lg,screengatherthanmd:ce>=M.Z.md}}),[ce]).screengatherthanlg;return(0,w.jsx)(b.Z,{children:(0,w.jsx)(x.Z,{toolbar:(0,w.jsxs)(w.Fragment,{children:[(0,w.jsxs)(Z.Z,{children:[(0,w.jsx)(y.Z,{value:A,onChange:L,items:[{value:"rent",label:"\u79df\u501f Youbike"},{value:"return",label:"\u6b78\u9084 Youbike"}]}),fe&&(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)(g.Z,{}),(0,w.jsx)(u.Z,{flex:!0,row:!0,justify:"space-between",children:de()})]})]}),!fe&&de((function(e,n){return(0,w.jsxs)(R.Z,{children:[e," ",n]})}))]}),content:(0,w.jsx)(p.Z,{spinning:o,children:(0,w.jsx)(i.Z,{onMount:function(e,n){ne(e),oe(n)},children:se?(0,w.jsx)(N,{}):r.map((function(e,n){var t=(0,f.Z)(e),r=t.lat,a=t.lng,o=e.AvailableRentBikes,l=e.AvailableReturnBikes,u=e.StationAddress,s=e.StationName.Zh_tw,i=u.Zh_tw;return(0,w.jsx)(d.Z,{lat:r,lng:a,num:"rent"===A?o:l,avaRent:o,avaReturn:l,name:s,showAvaInfo:!0,showInfoCard:U===n,address:i,onClick:function(){return W(n)},onCloseInfoCard:function(){return W()}},n)}))})}),contentOffset:!fe&&_.Z.secondToolbarHeight})})}},3231:function(e,n,t){t.d(n,{ZP:function(){return O}});var r=t(4942),a=t(7462),o=t(2791),l=t(8083),u=t(1694),s=t.n(u),i=t(8834),c=t(3785),d=o.createContext(null),f=d.Provider,p=d,v=t(4824),h=function(e,n){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.indexOf(r)<0&&(t[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)n.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(t[r[a]]=e[r[a]])}return t},b=function(e,n){var t,u=o.useContext(p),d=o.useContext(c.E_),f=d.getPrefixCls,b=d.direction,Z=o.useRef(),y=(0,i.sQ)(n,Z);o.useEffect((function(){(0,v.Z)(!("optionType"in e),"Radio","`optionType` is only support in Radio.Group.")}),[]);var C=e.prefixCls,g=e.className,x=e.children,m=e.style,j=h(e,["prefixCls","className","children","style"]),k=f("radio",C),w=(0,a.Z)({},j);u&&(w.name=u.name,w.onChange=function(n){var t,r;null===(t=e.onChange)||void 0===t||t.call(e,n),null===(r=null===u||void 0===u?void 0:u.onChange)||void 0===r||r.call(u,n)},w.checked=e.value===u.value,w.disabled=e.disabled||u.disabled);var S=s()("".concat(k,"-wrapper"),(t={},(0,r.Z)(t,"".concat(k,"-wrapper-checked"),w.checked),(0,r.Z)(t,"".concat(k,"-wrapper-disabled"),w.disabled),(0,r.Z)(t,"".concat(k,"-wrapper-rtl"),"rtl"===b),t),g);return o.createElement("label",{className:S,style:m,onMouseEnter:e.onMouseEnter,onMouseLeave:e.onMouseLeave},o.createElement(l.Z,(0,a.Z)({},w,{type:"radio",prefixCls:k,ref:y})),void 0!==x?o.createElement("span",null,x):null)},Z=o.forwardRef(b);Z.displayName="Radio";var y=Z,C=t(9439),g=t(5179),x=t(1815);var m=o.forwardRef((function(e,n){var t=o.useContext(c.E_),l=t.getPrefixCls,u=t.direction,i=o.useContext(x.Z),d=(0,g.Z)(e.defaultValue,{value:e.value}),p=(0,C.Z)(d,2),v=p[0],h=p[1];return o.createElement(f,{value:{onChange:function(n){var t=v,r=n.target.value;"value"in e||h(r);var a=e.onChange;a&&r!==t&&a(n)},value:v,disabled:e.disabled,name:e.name}},function(){var t,c=e.prefixCls,d=e.className,f=void 0===d?"":d,p=e.options,h=e.optionType,b=e.buttonStyle,Z=void 0===b?"outline":b,C=e.disabled,g=e.children,x=e.size,m=e.style,j=e.id,k=e.onMouseEnter,w=e.onMouseLeave,S=l("radio",c),E="".concat(S,"-group"),O=g;if(p&&p.length>0){var P="button"===h?"".concat(S,"-button"):S;O=p.map((function(e){return"string"===typeof e?o.createElement(y,{key:e,prefixCls:P,disabled:C,value:e,checked:v===e},e):o.createElement(y,{key:"radio-group-value-options-".concat(e.value),prefixCls:P,disabled:e.disabled||C,value:e.value,checked:v===e.value,style:e.style},e.label)}))}var M=x||i,R=s()(E,"".concat(E,"-").concat(Z),(t={},(0,r.Z)(t,"".concat(E,"-").concat(M),M),(0,r.Z)(t,"".concat(E,"-rtl"),"rtl"===u),t),f);return o.createElement("div",(0,a.Z)({},function(e){return Object.keys(e).reduce((function(n,t){return"data-"!==t.substr(0,5)&&"aria-"!==t.substr(0,5)&&"role"!==t||"data-__"===t.substr(0,7)||(n[t]=e[t]),n}),{})}(e),{className:R,style:m,onMouseEnter:k,onMouseLeave:w,id:j,ref:n}),O)}())})),j=o.memo(m),k=function(e,n){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.indexOf(r)<0&&(t[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)n.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(t[r[a]]=e[r[a]])}return t},w=function(e,n){var t=o.useContext(p),r=o.useContext(c.E_).getPrefixCls,l=e.prefixCls,u=k(e,["prefixCls"]),s=r("radio-button",l);return t&&(u.checked=e.value===t.value,u.disabled=e.disabled||t.disabled),o.createElement(y,(0,a.Z)({prefixCls:s},u,{type:"radio",ref:n}))},S=o.forwardRef(w),E=y;E.Button=S,E.Group=j;var O=E}}]);
//# sourceMappingURL=548.ce10c3d5.chunk.js.map