"use strict";(self.webpackChunkf2e_chal_2=self.webpackChunkf2e_chal_2||[]).push([[954],{8954:function(e,n,t){t.r(n),t.d(n,{default:function(){return ft}});var r=t(9439),o=t(2791),i=t(2007),a=t.n(i),s=t(168),l=t(4641),c=t(8844),u=t(9503);var f=t(6626),d=t(5751),h=t(9783);function p(e){if(e){var n=new Date(e);return"".concat(n.getHours(),":").concat(n.getMinutes(),":").concat(n.getSeconds())}}var Z,g=t(3928),x=t(184),C=(0,d.ZP)(f.Z)(Z||(Z=(0,s.Z)(["\n  transform: translate(-50%, -50%);\n"])));function j(e){var n=e.stops,t=e.onSelectStop,i=e.loading,a=e.showEmptyHint,s=(0,o.useState)(),f=(0,r.Z)(s,2),d=f[0],Z=f[1],j=(0,o.useState)(),m=(0,r.Z)(j,2),v=m[0],b=m[1],y=(0,o.useState)(),S=(0,r.Z)(y,2),w=S[0],k=S[1],M=(0,o.useMemo)((function(){return function(e){var n={lat:0,lng:0};if(0!==e.length)return e.forEach((function(e){var t=e.lat,r=e.lng;n.lat+=t,n.lng+=r})),n.lat=n.lat/e.length,n.lng=n.lng/e.length,n}(n.map((function(e){var n=e.StationPosition;return{lat:n.PositionLat,lng:n.PositionLon}})))}),[n]);return(0,o.useEffect)((function(){(0,g.Z)(d,v,n.map((function(e){return(0,c.Z)(e)})))}),[n,d,v]),(0,x.jsx)(h.Z,{spinning:i,children:(0,x.jsx)(l.Z,{center:M,onMount:function(e,n){Z(e),b(n)},children:a?(0,x.jsx)(C,{}):n.map((function(e,n){var r=(0,c.Z)(e),o=r.lat,i=r.lng,a=e.AvailableRentBikes,s=e.StationAddress,l=e.StationName,f=e.UpdateTime,d=l.Zh_tw,h=s.Zh_tw;return(0,x.jsx)(u.Z,{lat:o,lng:i,num:a,avaRent:a,updateTime:p(f),name:d,address:h,btnText:"\u9078\u64c7\u8def\u7dda",showBtn:!0,showInfoCard:w===n,onClick:function(){return k(n)},onCloseInfoCard:function(){return k()},errHint:!a&&"\u76ee\u524d\u7121\u8eca\u8f1b\u53ef\u79df\u7528",onClickInfoCardBtn:function(){return t({lat:o,lng:i,name:d,address:h})}},n)}))})})}j.defaultProps={stops:[],loading:!1};var m,v,b,y,S,w=j,k=t(7286),M=t(1413),P=["title","titleId"];function O(){return O=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},O.apply(this,arguments)}function R(e,n){if(null==e)return{};var t,r,o=function(e,n){if(null==e)return{};var t,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)t=i[r],n.indexOf(t)>=0||(o[t]=e[t]);return o}(e,n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)t=i[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(o[t]=e[t])}return o}function E(e,n){var t=e.title,r=e.titleId,i=R(e,P);return o.createElement("svg",O({width:48,height:48,viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,"aria-labelledby":r},i),t?o.createElement("title",{id:r},t):null,m||(m=o.createElement("path",{d:"M0 24C0 10.7452 10.7452 0 24 0C37.2548 0 48 10.7452 48 24C48 37.2548 37.2548 48 24 48C10.7452 48 0 37.2548 0 24Z",fill:"#2A823C"})),v||(v=o.createElement("path",{d:"M15.6 34.4C17.5883 34.4 19.2001 32.7883 19.2001 30.8C19.2001 28.8118 17.5883 27.2001 15.6 27.2001C13.6118 27.2001 12 28.8118 12 30.8C12 32.7883 13.6118 34.4 15.6 34.4Z",stroke:"white",strokeWidth:2.5,strokeLinecap:"round",strokeLinejoin:"round"})),b||(b=o.createElement("path",{d:"M32.4003 34.4C34.3886 34.4 36.0004 32.7883 36.0004 30.8C36.0004 28.8118 34.3886 27.2001 32.4003 27.2001C30.4121 27.2001 28.8003 28.8118 28.8003 30.8C28.8003 32.7883 30.4121 34.4 32.4003 34.4Z",stroke:"white",strokeWidth:2.5,strokeLinecap:"round",strokeLinejoin:"round"})),y||(y=o.createElement("path",{d:"M24.0004 32V27.2L20.4004 23.6L26.4004 18.8L28.8005 22.4H32.4005",stroke:"white",strokeWidth:2.5,strokeLinecap:"round",strokeLinejoin:"round"})),S||(S=o.createElement("path",{d:"M30.0003 16.4C30.6631 16.4 31.2003 15.8627 31.2003 15.2C31.2003 14.5373 30.6631 14 30.0003 14C29.3376 14 28.8003 14.5373 28.8003 15.2C28.8003 15.8627 29.3376 16.4 30.0003 16.4Z",stroke:"white",strokeWidth:2.5,strokeLinecap:"round",strokeLinejoin:"round"})))}var L=o.forwardRef(E),I=(t.p,t(6432));var T=function(e){return(0,x.jsx)(I.Z,(0,M.Z)((0,M.Z)({},e),{},{icon:(0,x.jsx)(L,{})}))},B=t(53);function F(e){return e*(Math.PI/180)}function N(e,n){var t=e.lat,r=e.lng,o=n.lat,i=n.lng,a=F(o-t),s=F(i-r),l=Math.sin(a/2)*Math.sin(a/2)+Math.cos(F(t))*Math.cos(F(o))*Math.sin(s/2)*Math.sin(s/2);return 6371*(2*Math.atan2(Math.sqrt(l),Math.sqrt(1-l)))}function V(e,n){return n.map((function(n){var t,r={lat:e.lat,lng:e.lng};return n.Direction===B.Z.unidirection?t=N(n.Geometry[0],r):n.Direction===B.Z.bilateral?t=Math.min(N(n.Geometry[0],r),N(n.Geometry[n.Geometry.length-1],r)):console.error("\u8def\u7dda\u7684\u65b9\u5411\u8cc7\u8a0a\u975e\u9810\u671f"),(0,M.Z)((0,M.Z)({},n),{},{Distance:(Math.round(100*t)/100).toFixed(2)})}))}var H,D,K=t(2179),_=t(6590),z=["title","titleId"];function A(){return A=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},A.apply(this,arguments)}function G(e,n){if(null==e)return{};var t,r,o=function(e,n){if(null==e)return{};var t,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)t=i[r],n.indexOf(t)>=0||(o[t]=e[t]);return o}(e,n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)t=i[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(o[t]=e[t])}return o}function U(e,n){var t=e.title,r=e.titleId,i=G(e,z);return o.createElement("svg",A({width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,"aria-labelledby":r},i),t?o.createElement("title",{id:r},t):null,H||(H=o.createElement("path",{d:"M12 13C13.6569 13 15 11.6569 15 10C15 8.34315 13.6569 7 12 7C10.3431 7 9 8.34315 9 10C9 11.6569 10.3431 13 12 13Z",stroke:"#424242",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"})),D||(D=o.createElement("path",{d:"M12 2C9.87827 2 7.84344 2.84285 6.34315 4.34315C4.84285 5.84344 4 7.87827 4 10C4 11.892 4.402 13.13 5.5 14.5L12 22L18.5 14.5C19.598 13.13 20 11.892 20 10C20 7.87827 19.1571 5.84344 17.6569 4.34315C16.1566 2.84285 14.1217 2 12 2V2Z",stroke:"#424242",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"})))}var W,Y,q,J=o.forwardRef(U),Q=(t.p,t(9039)),X=t(4312),$=d.ZP.div(W||(W=(0,s.Z)(["\n  border-top: 1px solid #bdbdbd;\n  margin: 16px 0;\n"]))),ee=(0,d.ZP)(_.Z)(Y||(Y=(0,s.Z)(["\n  & > *:not(:last-child) {\n    margin-right: 12px;\n  }\n"]))),ne=d.ZP.span(q||(q=(0,s.Z)(["\n  color: ",";\n  font-size: 16px;\n"])),Q.Z.grayText);function te(e){var n=e.stopName,t=e.extraNode,r=e.routeNum;return(0,x.jsxs)(_.Z,{noShrink:!0,children:[(0,x.jsxs)(_.Z,{flex:!0,row:!0,align:"center",justify:"space-between",children:[(0,x.jsxs)(ee,{row:!0,children:[(0,x.jsx)(J,{}),(0,x.jsx)(X.Z,{children:n})]}),t]}),(0,x.jsx)($,{}),(0,x.jsxs)(ne,{children:["\u5171",r,"\u689d\u8def\u7dda"]})]})}te.defaultProps={stopName:"",extraNode:void 0,routeNum:void 0};var re,oe,ie=te,ae=t(7947),se=t(5481),le=t(441),ce=t(4385),ue=t(8281),fe=t(9474),de=t(2091),he=t(4791),pe=(0,d.ZP)(f.Z)(re||(re=(0,s.Z)(["\n  transform: translate(-50%, -50%);\n"]))),Ze=(0,d.ZP)(K.Z)(oe||(oe=(0,s.Z)(["\n  color: #df9300;\n\n  &:hover {\n    color: #df9300;\n  }\n"])));function ge(e){var n=e.city,t=e.stopInfo,i=e.onSelectRoute,a=e.onClickReturn,s=e.routeLen,c=e.searchKey,u=e.dirFilter,f=(0,k.Z)([]),d=f.getRoute,h=f.isLoading,p=f.data,Z=(0,o.useState)(),C=(0,r.Z)(Z,2),j=C[0],m=C[1],v=(0,o.useState)(),b=(0,r.Z)(v,2),y=b[0],S=b[1],w=(0,o.useState)([]),M=(0,r.Z)(w,2),P=M[0],O=M[1],R=(0,o.useState)(),E=(0,r.Z)(R,2),L=E[0],I=E[1],B=(0,o.useState)("distance"),F=(0,r.Z)(B,1)[0],N=(0,o.useRef)({list:[]}),H=(0,ce.Z)().screen;(0,o.useEffect)((function(){d((0,se.RG)(n),(function(e){var n=V(t,e);return n.sort((function(e,n){return e.CyclingLength-n.CyclingLength})),n}),c,s)}),[d,n,t,c,s]);var D=(0,fe.Z)(u,p),K=D.filteredRouteInfos,_=D.routeStartStops;(0,o.useEffect)((function(){O([]),I()}),[n,t,c,s,u]),(0,o.useEffect)((function(){(0,g.Z)(j,y,_)}),[_,j,y]);var z=(0,o.useCallback)((function(e,n,t,r){O(t),(0,g.Z)(e,n,t),I(r)}),[]);return(0,x.jsx)(le.Z,{switchMode:H<=ue.Z.md,loading:h,leftContent:(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(ie,{routeNum:K.length,stopName:t.name,extraNode:(0,x.jsx)(Ze,{type:"link",onClick:a,children:"\u91cd\u65b0\u9078\u64c7\u7ad9\u9ede"})}),(0,x.jsx)(he.Z,{data:K.sort((function(e,n){return e[F]-n[F]})).map((function(e,n){var t=e.RouteName,r=e.CyclingLength,o=e.RoadSectionStart,a=e.RoadSectionEnd,s=e.Geometry,l=e.Direction,c=e.Distance;return(0,x.jsx)("div",{ref:function(e){return N.current.list[n]=e},children:(0,x.jsx)(ae.Z,{checked:L===n,title:t,distance:c,direction:l,length:r,start:o,end:a,onClickBtn:function(){return i({name:t,start:o,end:a,length:r,direction:l,geometry:s})},onClick:function(){return z(j,y,s,n)}})},t)}))})]}),rightContent:(0,x.jsxs)(l.Z,{steps:P,onMount:function(e,n){m(e),S(n)},children:[0===K.length&&!h&&(0,x.jsx)(pe,{specificStr:"\u8def\u7dda"}),(0,x.jsx)(T,{lat:t.lat,lng:t.lng}),(0,de.Z)({selectedRoute:P,allRouteStartStops:_,onClickRouteMark:function(e){z(j,y,K[e].Geometry,e),N.current.list[e].scrollIntoView({behavior:"smooth"})}})]})})}ge.defaultProps={city:void 0,stopInfo:{},onSelectRoute:function(){},onClickReturn:function(){},routeLen:void 0,searchKey:"",dirFilter:[]};var xe,Ce=ge,je=t(3433),me=t(8888),ve=t(9973),be=t(19),ye=["title","titleId"];function Se(){return Se=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},Se.apply(this,arguments)}function we(e,n){if(null==e)return{};var t,r,o=function(e,n){if(null==e)return{};var t,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)t=i[r],n.indexOf(t)>=0||(o[t]=e[t]);return o}(e,n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)t=i[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(o[t]=e[t])}return o}function ke(e,n){var t=e.title,r=e.titleId,i=we(e,ye);return o.createElement("svg",Se({width:18,height:18,viewBox:"0 0 18 18",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,"aria-labelledby":r},i),t?o.createElement("title",{id:r},t):null,xe||(xe=o.createElement("circle",{cx:9,cy:9,r:8,fill:"white",stroke:"#E0E0E0",strokeWidth:2})))}var Me,Pe,Oe,Re,Ee,Le,Ie,Te,Be=o.forwardRef(ke),Fe=(t.p,t(5244)),Ne=t(2464),Ve=(0,d.ZP)(X.Z)(Me||(Me=(0,s.Z)(["\n  margin-bottom: 16px;\n"]))),He=d.ZP.div(Pe||(Pe=(0,s.Z)(["\n  color: #757575;\n  margin-bottom: 8px;\n  font-size: 16px;\n"]))),De=d.ZP.div(Oe||(Oe=(0,s.Z)(["\n  margin: 8px 0 16px;\n  color: ",";\n  font-weight: 400;\n"])),Q.Z.text),Ke=d.ZP.span(Re||(Re=(0,s.Z)(["\n  font-size: 16;\n  font-weight: 400;\n  color: ",";\n"])),Q.Z.text),_e=(0,d.ZP)(_.Z)(Ee||(Ee=(0,s.Z)(["\n  font-size: 14px;\n  color: #757575;\n\n  & > *:not(:last-child) {\n    margin-right: 12px;\n  }\n"]))),ze=d.ZP.span(Le||(Le=(0,s.Z)(["\n  font-size: 16px;\n  font-weight: 700;\n  color ",";\n"])),Q.Z.grayText),Ae=(0,d.ZP)(_.Z)(Ie||(Ie=(0,s.Z)(["\n  & > :not(:last-child) {\n    margin-right: 16px;\n  }\n"]))),Ge=(0,d.ZP)(me.Z)(Te||(Te=(0,s.Z)(["\n  margin: 16px 0 8px;\n  & > .ant-steps-item > .ant-steps-item-container > .ant-steps-item-tail {\n    padding: 0;\n    top: 14px;\n    left: 15px;\n\n    &:after {\n      width: 3px;\n    }\n  }\n"])));function Ue(e){var n=e.stopInfo,t=e.routeInfo,i=t.name,a=t.start,s=t.end,c=t.length,u=t.direction,f=t.geometry,d=(0,ce.Z)().screen,h=(0,o.useState)(),p=(0,r.Z)(h,2),Z=p[0],C=p[1],j=(0,o.useState)(),m=(0,r.Z)(j,2),v=m[0],b=m[1];return(0,o.useEffect)((function(){var e=n.lat,t=n.lng;(0,g.Z)(Z,v,[].concat((0,je.Z)(f),[{lat:e,lng:t}]))}),[f,n,Z,v]),(0,x.jsx)(le.Z,{switchMode:d<=ue.Z.md,hideBtn:!0,leftContent:(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(Ve,{children:"\u898f\u5283\u5b8c\u6210\uff0c\u60a8\u7684\u6311\u6230\u8cc7\u8a0a\u5982\u4e0b"}),(0,x.jsxs)(ve.Z,{children:[(0,x.jsx)(He,{children:"\u6311\u6230\u540d\u7a31"}),(0,x.jsx)(X.Z,{children:i}),(0,x.jsx)($,{}),(0,x.jsx)(He,{children:"\u8d77\u9ede\u8cc7\u8a0a"}),(0,x.jsx)(X.Z,{children:n.name}),(0,x.jsx)(De,{children:n.address}),(0,x.jsx)(He,{children:"\u8def\u7dda\u8cc7\u8a0a"}),(0,x.jsxs)(Ae,{row:!0,align:"center",children:[(0,x.jsx)(X.Z,{children:i}),(0,x.jsx)(be.Z,{label:u})]}),(0,x.jsxs)(Ge,{direction:"vertical",children:[(0,x.jsx)(me.Z.Step,{icon:(0,x.jsx)(Be,{}),title:(0,x.jsxs)(Ke,{children:[" ",a]}),status:"wait"}),(0,x.jsx)(me.Z.Step,{icon:(0,x.jsx)(Be,{}),title:(0,x.jsx)(Ke,{children:s})})]}),(0,x.jsxs)(_e,{row:!0,align:"center",children:[(0,x.jsx)("span",{children:"\u7e3d\u9577"})," ",(0,x.jsxs)(ze,{children:[c,"\u516c\u91cc"]})]})]})," "]}),rightContent:(0,x.jsxs)(l.Z,{steps:f,onMount:function(e,n){C(e),b(n)},children:[(0,x.jsx)(T,{lat:n.lat,lng:n.lng}),[(0,M.Z)((0,M.Z)({},f[0]),{},{Component:Fe.Z}),(0,M.Z)((0,M.Z)({},f[f.length-1]),{},{Component:Ne.Z})].map((function(e,n){var t=e.lat,r=e.lng,o=e.Component;return(0,x.jsx)(o,{lat:t,lng:r},n)}))]})})}Ue.defaultProps={stopInfo:{},routeInfo:{}};var We,Ye=Ue,qe=t(2435),Je=t(6824),Qe=t(9359),Xe=t(285),$e=(0,d.ZP)(Xe.Z)(We||(We=(0,s.Z)(["\n  margin-left: 8px;\n"])));var en=function(e){var n=e.city,t=e.onCityChange,r=e.onYoubikeChange,o=e.youbikeVer,i=e.onSearch,a=e.onSearchChange,s=e.searchKey;return(0,x.jsxs)(_.Z,{row:!0,justify:"space-between",flex:!0,align:"center",children:[(0,x.jsx)(Qe.Z,{cityVal:n,onCityChange:t,onYoubikeChange:r,youbikeVal:o}),(0,x.jsx)($e,{value:s,placeholder:"\u7ad9\u9ede\u641c\u5c0b",onPressEnter:i,onChange:a})]})},nn=t(8337),tn=t(6882),rn=t(1519);var on=function(e){var n=e.routeLen,t=e.onRouteChange,r=e.onDireactChange,i=e.onSearch,a=e.onSearchChange,s=e.searchKey,l=e.render,c=(0,o.useMemo)((function(){return(0,x.jsxs)(_.Z,{row:!0,align:"center",children:[(0,x.jsx)(tn.Z,{placeholder:"\u8eca\u9053\u9577\u5ea6",value:n,onSelect:t,prefixStr:"\u8eca\u9053\u9577\u5ea6\uff1a ",filterName:"CyclingLength"}),(0,x.jsx)(nn.Z,{}),(0,x.jsx)(rn.Z,{options:B.w,onChange:r})]})}),[n,t,r]),u=(0,o.useMemo)((function(){return(0,x.jsx)(Xe.Z,{onChange:a,value:s,placeholder:"\u8def\u7dda / \u8d77\u3001\u8fc4\u9ede\u641c\u5c0b",onPressEnter:i})}),[i,s,a]);return l?l(c,u):(0,x.jsxs)(_.Z,{flex:!0,row:!0,justify:"space-between",align:"center",children:[c,u]})},an=t(3101),sn=t(2987),ln=t(9428);function cn(e){var n=e.onModeChange,t=e.toolbarComponent,r=e.secondToolbar,o=e.offsetTop,i=e.mainComponent,a=e.curMode;return(0,x.jsx)(ln.Z,{toolbar:(0,x.jsxs)(x.Fragment,{children:[(0,x.jsxs)(an.Z,{children:[(0,x.jsx)(sn.Z,{value:a,onChange:n}),t]}),r]}),content:i,contentOffset:o})}cn.defaultProps={onModeChange:function(){},toolbarComponent:null,secondToolbar:null,offsetTop:0,mainComponent:null,curMode:void 0};var un=cn,fn=t(9298);function dn(e){var n=e.onModeChange,t=e.curTabMode,i=(0,o.useState)("stop"),a=(0,r.Z)(i,2),s=a[0],l=a[1],c=(0,o.useState)(se.ZP[0].value),u=(0,r.Z)(c,2),f=u[0],d=u[1],h=(0,o.useState)(qe.Z[0].value),p=(0,r.Z)(h,2),Z=p[0],g=p[1],C=(0,o.useState)({}),j=(0,r.Z)(C,2),m=j[0],v=j[1],b=(0,o.useState)({}),y=(0,r.Z)(b,2),S=y[0],k=y[1],M=(0,o.useState)(""),P=(0,r.Z)(M,2),O=P[0],R=P[1],E=(0,o.useState)(""),L=(0,r.Z)(E,2),I=L[0],T=L[1],B=(0,o.useState)(""),F=(0,r.Z)(B,2),N=F[0],V=F[1],H=(0,o.useState)(""),D=(0,r.Z)(H,2),K=D[0],_=D[1],z=(0,o.useState)(),A=(0,r.Z)(z,2),G=A[0],U=A[1],W=(0,o.useState)(!1),Y=(0,r.Z)(W,2),q=Y[0],J=Y[1],X=(0,o.useState)([]),$=(0,r.Z)(X,2),ee=$[0],ne=$[1],te=(0,Je.Z)([]),re=te.getBikeStopInfo,oe=te.data,ie=te.loading,ae=(0,ce.Z)().screen;(0,o.useEffect)((function(){re({city:f,youbikeVer:Z,search:O,noSearchResultCB:function(e){return J(e)}})}),[re,f,Z,O]);var le=(0,o.useMemo)((function(){var e=ae>=ue.Z.lg,n=ae>=ue.Z.xl,t=ae>=ue.Z.md,r=Q.Z.secondToolbarHeight,o=null,i=null,a=null,c=0;switch(s){case"stop":o=(0,x.jsx)(w,{stops:oe,city:f,loading:ie,showEmptyHint:q,onSelectStop:function(e){v(e),l("route")}}),i=e&&(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(nn.Z,{}),(0,x.jsx)(en,{city:f,searchKey:N,onCityChange:d,onYoubikeChange:g,youbikeVer:Z,onSearch:R,onSearchChange:V})]}),a=!e&&(0,x.jsx)(fn.Z,{children:(0,x.jsx)(en,{city:f,onCityChange:d,searchKey:N,onYoubikeChange:g,youbikeVer:Z,onSearch:R,onSearchChange:V})}),c=e?0:r;break;case"route":o=(0,x.jsx)(Ce,{city:f,stopInfo:m,routeLen:G,searchKey:I,dirFilter:ee,onClickReturn:function(){return l("stop")},onSelectRoute:function(e){k(e),l("finish")}}),i=n&&(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(nn.Z,{}),(0,x.jsx)(on,{routeLen:G,onRouteChange:U,onDireactChange:ne,onSearch:T,onSearchChange:_,searchKey:K})]}),a=!n&&(0,x.jsx)(on,{routeLen:G,onRouteChange:U,onDireactChange:ne,onSearch:T,onSearchChange:_,searchKey:K,render:function(e,n){return t?(0,x.jsxs)(fn.Z,{children:[e,n]}):(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(fn.Z,{children:e}),(0,x.jsx)(fn.Z,{children:n})]})}}),c=n?0:t?r:2*r;break;case"finish":o=(0,x.jsx)(Ye,{stopInfo:m,routeInfo:S})}return{component:o,toolbarComponent:i,secondToolbar:a,offsetTop:c}}),[s,oe,f,m,S,q,ie,Z,G,I,ee,ae,N,K]),fe=le.component,de=le.toolbarComponent,he=le.secondToolbar,pe=le.offsetTop;return(0,x.jsx)(un,{onModeChange:n,curMode:t,toolbarComponent:de,secondToolbar:he,offsetTop:pe,mainComponent:fe})}w.defaultProps={onModeChange:function(){},curTabMode:void 0},w.propTypes={onModeChange:a().func,curTabMode:a().string};var hn,pn=t(4245),Zn=t(5987),gn=t(880),xn=["title","titleId"];function Cn(){return Cn=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},Cn.apply(this,arguments)}function jn(e,n){if(null==e)return{};var t,r,o=function(e,n){if(null==e)return{};var t,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)t=i[r],n.indexOf(t)>=0||(o[t]=e[t]);return o}(e,n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)t=i[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(o[t]=e[t])}return o}function mn(e,n){var t=e.title,r=e.titleId,i=jn(e,xn);return o.createElement("svg",Cn({width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,"aria-labelledby":r},i),t?o.createElement("title",{id:r},t):null,hn||(hn=o.createElement("path",{d:"M18.75 15.75C18.0851 15.7513 17.4393 15.9727 16.9135 16.3798C16.3877 16.7868 16.0115 17.3566 15.8438 18H6.75C5.95435 18 5.19129 17.6839 4.62868 17.1213C4.06607 16.5587 3.75 15.7956 3.75 15C3.75 14.2044 4.06607 13.4413 4.62868 12.8787C5.19129 12.3161 5.95435 12 6.75 12H15.75C16.7446 12 17.6984 11.6049 18.4017 10.9017C19.1049 10.1984 19.5 9.24456 19.5 8.25C19.5 7.25544 19.1049 6.30161 18.4017 5.59835C17.6984 4.89509 16.7446 4.5 15.75 4.5H6.75C6.55109 4.5 6.36032 4.57902 6.21967 4.71967C6.07902 4.86032 6 5.05109 6 5.25C6 5.44891 6.07902 5.63968 6.21967 5.78033C6.36032 5.92098 6.55109 6 6.75 6H15.75C16.3467 6 16.919 6.23705 17.341 6.65901C17.7629 7.08097 18 7.65326 18 8.25C18 8.84674 17.7629 9.41903 17.341 9.84099C16.919 10.2629 16.3467 10.5 15.75 10.5H6.75C5.55653 10.5 4.41193 10.9741 3.56802 11.818C2.72411 12.6619 2.25 13.8065 2.25 15C2.25 16.1935 2.72411 17.3381 3.56802 18.182C4.41193 19.0259 5.55653 19.5 6.75 19.5H15.8438C15.984 20.0432 16.2738 20.5362 16.6802 20.923C17.0866 21.3098 17.5933 21.5749 18.1427 21.6882C18.6922 21.8015 19.2625 21.7584 19.7887 21.5639C20.3149 21.3694 20.7761 21.0312 21.1197 20.5877C21.4634 20.1443 21.6758 19.6133 21.7329 19.0552C21.79 18.4971 21.6894 17.9341 21.4426 17.4303C21.1958 16.9265 20.8127 16.5019 20.3367 16.2049C19.8608 15.9079 19.311 15.7503 18.75 15.75ZM18.75 20.25C18.4533 20.25 18.1633 20.162 17.9166 19.9972C17.67 19.8324 17.4777 19.5981 17.3642 19.324C17.2507 19.0499 17.2209 18.7483 17.2788 18.4574C17.3367 18.1664 17.4796 17.8991 17.6893 17.6893C17.8991 17.4796 18.1664 17.3367 18.4574 17.2788C18.7483 17.2209 19.0499 17.2506 19.324 17.3642C19.5981 17.4777 19.8324 17.67 19.9972 17.9166C20.162 18.1633 20.25 18.4533 20.25 18.75C20.25 19.1478 20.092 19.5294 19.8107 19.8107C19.5294 20.092 19.1478 20.25 18.75 20.25Z",fill:"#424242"})))}var vn,bn=o.forwardRef(mn),yn=(t.p,["title","titleId"]);function Sn(){return Sn=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},Sn.apply(this,arguments)}function wn(e,n){if(null==e)return{};var t,r,o=function(e,n){if(null==e)return{};var t,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)t=i[r],n.indexOf(t)>=0||(o[t]=e[t]);return o}(e,n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)t=i[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(o[t]=e[t])}return o}function kn(e,n){var t=e.title,r=e.titleId,i=wn(e,yn);return o.createElement("svg",Sn({width:22,height:16,viewBox:"0 0 22 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,"aria-labelledby":r},i),t?o.createElement("title",{id:r},t):null,vn||(vn=o.createElement("path",{d:"M18 4L14 8H17C17 11.31 14.31 14 11 14C9.99 14 9.03 13.75 8.2 13.3L6.74 14.76C7.97 15.54 9.43 16 11 16C15.42 16 19 12.42 19 8H22L18 4ZM5 8C5 4.69 7.69 2 11 2C12.01 2 12.97 2.25 13.8 2.7L15.26 1.24C14.03 0.46 12.57 0 11 0C6.58 0 3 3.58 3 8H0L4 12L8 8H5Z",fill:"#616161"})))}var Mn,Pn,On,Rn,En=o.forwardRef(kn),Ln=(t.p,["show"]),In=(0,d.ZP)(K.Z)(Mn||(Mn=(0,s.Z)(["\n  color: #df9300;\n  display: flex;\n  padding-top: 0;\n  align-items: center;\n\n  &:hover {\n    color: #df9300;\n  }\n"]))),Tn=(0,d.ZP)(gn.Z)(Pn||(Pn=(0,s.Z)(["\n  margin-top: 18px;\n"]))),Bn=(0,d.ZP)(bn)(On||(On=(0,s.Z)(["\n  margin-right: 12px;\n"]))),Fn=(0,d.ZP)((function(e){e.show;var n=(0,Zn.Z)(e,Ln);return(0,x.jsx)(_.Z,(0,M.Z)({},n))}))(Rn||(Rn=(0,s.Z)(["\n  color: #757575;\n  font-size: 12px;\n  cursor: pointer;\n  visibility: ",";\n\n  & > :not(:last-child) {\n    margin-right: 12px;\n  }\n"])),(function(e){return e.show?"visible":"hidden"}));function Nn(e){var n=e.routeName,t=e.start,r=e.end,o=e.direction,i=e.stopNum,a=e.updateTime,s=e.onClickReselect,l=e.onClickUpdateTime;return(0,x.jsxs)(_.Z,{noShrink:!0,children:[(0,x.jsxs)(_.Z,{row:!0,children:[(0,x.jsx)(Bn,{}),(0,x.jsxs)(_.Z,{flex:!0,children:[(0,x.jsxs)(_.Z,{flex:!0,row:!0,justify:"space-between",children:[(0,x.jsx)(X.Z,{children:n}),(0,x.jsx)(In,{type:"link",onClick:s,children:"\u91cd\u65b0\u9078\u64c7\u8def\u7dda"})]}),(0,x.jsx)(Tn,{start:t,end:r,direction:o})]})]}),(0,x.jsx)($,{}),(0,x.jsxs)(_.Z,{flex:!0,row:!0,justify:"space-between",children:[(0,x.jsxs)("span",{children:["\u5171 ",i," \u500b\u7ad9\u9ede"]}),(0,x.jsxs)(Fn,{show:Boolean(a),onClick:l,row:!0,align:"center",children:[(0,x.jsxs)("span",{children:["\u66f4\u65b0\u6642\u9593 ",a]}),(0,x.jsx)(En,{})]})]})]})}Nn.defaultProps={onClickReselect:function(){},onClickUpdateTime:function(){}};var Vn,Hn,Dn,Kn=Nn,_n=t(1569),zn=d.ZP.div(Vn||(Vn=(0,s.Z)(["\n  color: #9e9e9e;\n  margin-top: 8px;\n  font-size: 14px;\n"]))),An=(0,d.ZP)(K.Z)(Hn||(Hn=(0,s.Z)(["\n  padding: 12px 32px;\n  font-size: 16px;\n  margin-top: 16px;\n  width: 128px;\n"]))),Gn=d.ZP.div(Dn||(Dn=(0,s.Z)(["\n  margin-top: 8px;\n  font-size: 16px;\n"])));var Un,Wn=function(e){var n=e.title,t=e.onClick,r=e.onClickBtn,o=e.checked,i=e.address,a=e.distance;return(0,x.jsx)(_n.Z,{title:n,onClick:t,hideBtn:!0,checked:o,content:(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(Gn,{children:i}),(0,x.jsxs)(zn,{children:["\u8ddd\u96e2 ",(Math.round(100*a)/100).toFixed(2)," \u516c\u91cc"]}),(0,x.jsx)(An,{onClick:r,children:"\u9078\u64c7\u7ad9\u9ede"})]})})},Yn=(0,d.ZP)(f.Z)(Un||(Un=(0,s.Z)(["\n  transform: translate(-50%, -50%);\n"])));function qn(e){var n,t=e.city,i=e.routeInfos,a=e.onClickReturn,s=e.onSelectStop,f=e.searchKey,d=e.youbikeVer,h=e.distance,Z=(0,Je.Z)(),C=Z.getBikeStopInfo,j=Z.loading,m=(0,o.useState)([]),v=(0,r.Z)(m,2),b=v[0],y=v[1],S=(0,o.useState)(!1),w=(0,r.Z)(S,2),k=w[0],P=w[1],O=(0,o.useState)(),R=(0,r.Z)(O,2),E=R[0],L=R[1],I=(0,o.useState)(!1),T=(0,r.Z)(I,2),F=T[0],V=T[1],H=(0,o.useState)(),D=(0,r.Z)(H,2),K=D[0],_=D[1],z=(0,o.useState)(),A=(0,r.Z)(z,2),G=A[0],U=A[1],W=(0,ce.Z)().screen,Y=(0,o.useRef)({list:[]}),q=i.start,J=i.end,Q=i.name,X=i.direction,$=i.geometry;return(0,o.useEffect)((function(){var e=i.direction,n=i.geometry,o={city:t,search:f,youbikeVer:d,distance:h},a=function(e,n){return e.map((function(e){var t=e.StationPosition,r=t.PositionLat,o=t.PositionLon;return(0,M.Z)((0,M.Z)({},e),{},{Distance:N(n,{lat:r,lng:o})})}))};if(e===B.Z.unidirection){var s=n[0],l=s.lat,c=s.lng;C((0,M.Z)({lat:l,lng:c,noSearchResultCB:function(){return P(!0)}},o)).then((function(e){y(a(e,n[0])),P(!1)}))}else if(e===B.Z.bilateral){var u=n[0],p=u.lat,Z=u.lng,g=n[n.length-1],x=g.lat,j=g.lng;Promise.all([C((0,M.Z)({lat:p,lng:Z},o)),C((0,M.Z)({lat:x,lng:j},o))]).then((function(e){var t=(0,r.Z)(e,2),o=t[0],i=t[1];P(0===o.length&&0===i.length);var s=a(o,n[0]);i.forEach((function(e){s.map((function(e){return e.StationUID})).includes(e.StationUID)||s.push(a([e],n[n.length-1])[0])})),y(s)}))}else console.error("\u975e\u9810\u671f\u7684\u55ae\u8eca\u9053\u65b9\u7dda\u8cc7\u8a0a")}),[C,i,t,f,F,d,h]),(0,o.useEffect)((function(){(0,g.Z)(K,G,[$[0],$[$.length-1]].concat((0,je.Z)(b.map((function(e){var n=e.StationPosition,t=n.PositionLon;return{lat:n.PositionLat,lng:t}})))))}),[b,$,K,G,h]),(0,o.useEffect)((function(){L()}),[t,d,h]),(0,x.jsx)(le.Z,{loading:j,switchMode:W<=ue.Z.md,leftContent:(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(Kn,{routeName:Q,stopNum:b.length,start:q,end:J,updateTime:p(null===b||void 0===b||null===(n=b[0])||void 0===n?void 0:n.UpdateTime),onClickReselect:a,onClickUpdateTime:function(){return V(!F)},direction:X}),(0,x.jsx)(he.Z,{emptyText:"\u6c92\u6709\u5c0b\u627e\u5230\u76f8\u95dc\u7ad9\u9ede",data:b.map((function(e,n){var t=e.StationName,r=e.StationAddress,o=e.Distance,i=e.StationPosition;return(0,x.jsx)("div",{ref:function(e){return Y.current.list[n]=e},children:(0,x.jsx)(Wn,{title:t.Zh_tw,address:r.Zh_tw,distance:o,onClick:function(){return L(n)},checked:E===n,onClickBtn:function(){return s({lat:i.PositionLat,lng:i.PositionLon,name:t.Zh_tw,address:r.Zh_tw})}})},n)}))})]}),rightContent:(0,x.jsx)(l.Z,{onMount:function(e,n){_(e),U(n)},steps:$,children:k?(0,x.jsx)(Yn,{}):[(0,x.jsx)(Fe.Z,{lat:$[0].lat,lng:$[0].lng},"start"),(0,x.jsx)(Ne.Z,{lat:$[$.length-1].lat,lng:$[$.length-1].lng},"end")].concat(b.map((function(e,n){var t=(0,c.Z)(e),r=t.lat,o=t.lng,i=e.AvailableRentBikes,a=e.AvailableReturnBikes,l=e.StationAddress,f=e.StationName.Zh_tw,d=l.Zh_tw;return(0,x.jsx)(u.Z,{lat:r,lng:o,num:i,avaRent:i,avaReturn:a,name:f,onClick:function(){void 0===E&&(L(n),Y.current.list[n].scrollIntoView({behavior:"smooth"}))},btnText:"\u9078\u64c7\u7ad9\u9ede",showBtn:!0,showAvaInfo:!0,address:d,onClickInfoCardBtn:function(){return s({lat:r,lng:o,name:f,address:d})}},n)})).filter((function(e,n){return void 0===E||E===n})))})})}qn.defaultProps={onClickReturn:function(){},onSelectStop:function(){}};var Jn=qn,Qn=t(2756);var Xn=function(e){var n=e.routeInfos,t=e.onSelectRoute,i=e.loading,a=e.dirFilter,s=e.city,c=e.routeLen,u=e.searchRoute,f=(0,o.useState)(),d=(0,r.Z)(f,2),h=d[0],p=d[1],Z=(0,o.useState)(),C=(0,r.Z)(Z,2),j=C[0],m=C[1],v=(0,o.useState)([]),b=(0,r.Z)(v,2),y=b[0],S=b[1],w=(0,o.useState)(),k=(0,r.Z)(w,2),M=k[0],P=k[1],O=(0,o.useRef)({list:[]}),R=(0,ce.Z)().screen,E=(0,fe.Z)(a,n),L=E.filteredRouteInfos,I=E.routeStartStops,T=(0,o.useCallback)((function(e,n,t,r){S(t),(0,g.Z)(e,n,t),P(r)}),[]);return(0,o.useEffect)((function(){(0,g.Z)(h,j,I)}),[I,h,j]),(0,o.useEffect)((function(){S([]),P()}),[a,s,c,u]),(0,x.jsx)(le.Z,{loading:i,switchMode:R<=ue.Z.md,leftContent:(0,x.jsx)(Qn.Z,{routInfos:L,refEle:O,selectedRouteId:M,onClickCard:function(e,n){return T(h,j,e,n)},onClickCardBtn:function(e){return t(e)}}),rightContent:(0,x.jsx)(l.Z,{steps:y,onMount:function(e,n){p(e),m(n)},children:(0,de.Z)({selectedRoute:y,allRouteStartStops:I,onClickRouteMark:function(e){T(h,j,L[e].Geometry,e),O.current.list[e].scrollIntoView({behavior:"smooth"})}})})})},$n=t(9271),et=t(7039),nt=t(3062),tt=t(6469),rt=["value","onSelect","prefixStr"];var ot,it=function(e){var n=e.value,t=e.onSelect,r=e.prefixStr,i=(0,Zn.Z)(e,rt),a=tt.Z.Option,s=(0,o.useMemo)((function(){return[{value:"",label:"\u4e0d\u62d8"},{value:"100",label:"100\u516c\u5c3a\u4ee5\u5167"},{value:"200",label:"200\u516c\u5c3a\u4ee5\u5167"},{value:"500",label:"500\u516c\u5c3a\u4ee5\u5167"},{value:"1000",label:"1\u516c\u91cc\u4ee5\u5167"}]}),[]);return(0,x.jsx)(nt.Z,(0,M.Z)((0,M.Z)({value:n,onSelect:t,placeholder:"\u8207\u8def\u7dda\u8ddd\u96e2",optionLabelProp:"label"},i),{},{children:s.map((function(e){var n=e.value,t=e.label;return(0,x.jsx)(a,{value:n,label:"".concat(r).concat(t),children:t},n)}))}))},at=(0,d.ZP)(it)(ot||(ot=(0,s.Z)(["\n  margin-right: 8px;\n"])));function st(e){var n=e.city,t=e.onCityChange,r=e.youbikeVer,i=e.distance,a=e.onYoubikeChange,s=e.onDistanceChange,l=e.onSearch,c=e.onSearchChange,u=e.searchKey,f=e.render,d=(0,o.useMemo)((function(){return(0,x.jsx)(Qe.Z,{cityVal:n,onCityChange:t,youbikeVal:r,onYoubikeChange:a})}),[n,t,r,a]),h=(0,o.useMemo)((function(){return(0,x.jsx)(at,{value:i,onSelect:s,prefixStr:"\u8207\u8def\u7dda\u8ddd\u96e2\uff1a"})}),[i,s]),p=(0,o.useMemo)((function(){return(0,x.jsx)(Xe.Z,{value:u,placeholder:"\u7ad9\u9ede\u641c\u5c0b",onPressEnter:l,onChange:c})}),[l,c,u]),Z=(0,o.useMemo)((function(){return(0,x.jsxs)(_.Z,{justify:"space-between",row:!0,flex:!0,children:[(0,x.jsxs)(_.Z,{row:!0,children:[d,(0,x.jsx)(nn.Z,{}),h]}),p]})}),[d,h,p]);return f?f(Z,d,h,p):Z}st.propTypes={};var lt=st;var ct=function(e){var n=e.onModeChange,t=e.curTabMode,i=(0,o.useState)("route"),a=(0,r.Z)(i,2),s=a[0],l=a[1],c=(0,$n.k6)(),u=pn.parse(c.location.search),f=u.lat,d=u.log,h=(0,o.useState)(se.ZP[0].value),p=(0,r.Z)(h,2),Z=p[0],g=p[1],C=(0,o.useState)(se.ZP[0].value),j=(0,r.Z)(C,2),m=j[0],v=j[1],b=(0,o.useState)(),y=(0,r.Z)(b,2),S=y[0],w=y[1],M=(0,o.useState)({}),P=(0,r.Z)(M,2),O=P[0],R=P[1],E=(0,o.useState)({}),L=(0,r.Z)(E,2),I=L[0],T=L[1],B=(0,o.useState)([]),F=(0,r.Z)(B,2),N=F[0],H=F[1],D=(0,o.useState)(),K=(0,r.Z)(D,2),z=K[0],A=K[1],G=(0,o.useState)(),U=(0,r.Z)(G,2),W=U[0],Y=U[1],q=(0,o.useState)(),J=(0,r.Z)(q,2),X=J[0],$=J[1],ee=(0,o.useState)(),ne=(0,r.Z)(ee,2),te=ne[0],re=ne[1],oe=(0,o.useState)(),ie=(0,r.Z)(oe,2),ae=ie[0],le=ie[1],fe=(0,o.useState)(qe.Z[0].value),de=(0,r.Z)(fe,2),he=de[0],pe=de[1],Ze=(0,k.Z)([]),ge=Ze.getRoute,xe=Ze.data,Ce=Ze.isLoading,je=(0,ce.Z)().screen;(0,o.useEffect)((function(){ge(Z,(function(e){return V({lat:f,lng:d},e)}),z,S)}),[ge,Z,f,d,z,S]);var me=(0,o.useMemo)((function(){var e=je>=ue.Z.xl,n=je>=ue.Z.md,t=Q.Z.secondToolbarHeight,r=null,o=null,i=null,a=0,c=function(e){return(0,x.jsx)(lt,{city:m,onCityChange:v,distance:ae,youbikeVer:he,onYoubikeChange:pe,onSearch:Y,onSearchChange:re,onDistanceChange:le,searchKey:te,render:e})},u=function(e){return(0,x.jsx)(et.Z,{city:Z,routeLen:S,onCityChange:function(e){g(e),v(e),pe((0,Qe.M)(e))},onRouteLenChange:w,onDireactChange:H,onSearch:A,onSearchChange:$,searchKey:X,render:e})};switch(s){case"stop":r=(0,x.jsx)(Jn,{city:m,youbikeVer:he,routeInfos:I,searchKey:W,distance:ae,onSelectCity:v,onClickReturn:function(){return l("route")},onSelectStop:function(e){R(e),l("finish")}}),o=e&&(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(nn.Z,{}),c()]}),i=!e&&c((function(e,t,r,o){return n?(0,x.jsx)(fn.Z,{children:e}):(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(fn.Z,{children:t}),(0,x.jsx)(fn.Z,{children:(0,x.jsxs)(_.Z,{flex:!0,row:!0,justify:"space-between",children:[r,o]})})]})})),a=e?0:n?t:2*t;break;case"route":r=(0,x.jsx)(Xn,{city:Z,routeLen:S,dirFilter:N,onSelectCity:g,searchRoute:z,routeInfos:xe,loading:Ce,onSelectRoute:function(e){T(e),l("stop")},onSearch:function(e){return ge(Z,(function(e){return e}),e)}}),o=e&&u(),i=!e&&u((function(e,t,r,o){return n?(0,x.jsx)(fn.Z,{children:e}):(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(fn.Z,{children:t}),(0,x.jsx)(fn.Z,{children:(0,x.jsxs)(_.Z,{row:!0,flex:!0,align:"center",justify:"space-between",children:[r,o]})})]})})),a=e?0:n?t:2*t;break;case"finish":r=(0,x.jsx)(Ye,{stopInfo:O,routeInfo:I})}return{component:r,toolbarComponent:o,secondToolbar:i,offsetTop:a}}),[s,xe,Z,O,I,ge,Ce,S,N,je,he,W,m,ae,X,te,z]),ve=me.component,be=me.toolbarComponent,ye=me.secondToolbar,Se=me.offsetTop;return(0,x.jsx)(un,{curMode:t,onModeChange:n,mainComponent:ve,toolbarComponent:be,secondToolbar:ye,offsetTop:Se})},ut=t(9215);var ft=function(e){var n=(0,o.useState)("stop"),t=(0,r.Z)(n,2),i=t[0],a=t[1],s=(0,o.useMemo)((function(){var e=null;switch(i){case"stop":e=(0,x.jsx)(dn,{curTabMode:"stop",onModeChange:a});break;case"route":e=(0,x.jsx)(ct,{curTabMode:"route",onModeChange:a})}return e}),[i]);return(0,x.jsx)(ut.Z,{children:s})}}}]);
//# sourceMappingURL=954.9e3fd4a2.chunk.js.map